<app-navbar></app-navbar>

<div class="main-content mt-4">
  <div class="container-fluid">
    <div class="row justify-content-center">
      <div class="col-12 col-lg-10 col-xl-8">
        <!-- Form -->
        <form *ngIf="collectionForm" [formGroup]="collectionForm">
          <!-- Collection Name -->

          <div class="form-group">
            <label for="name">Collection Name</label>
            <input
              type="text"
              id="name"
              class="form-control"
              placeholder="Gymshark Reviews"
              formControlName="name"
            />

            <!-- <span
                  class="help-block-invalid"
                >
                  Please enter a valid link name.</span
                > -->
            <small class="form-text text-muted mt-2">
              Name of your collection. Only for Internal Use.
            </small>
          </div>

          <!-- Header Title -->

          <div class="form-group">
            <label for="heading">Header Title</label>
            <input
              type="text"
              id="heading"
              class="form-control"
              placeholder="Leave Johnny's Store an Honest Review"
              formControlName="heading"
            />

            <!-- <span
                          class="help-block-invalid"
                        >
                          Please enter a valid link name.</span
                        > -->
            <small class="form-text text-muted mt-2">
              Reviewers will see this.
            </small>
          </div>

          <!-- <div class="form-group">
            LATER: 
            <label for="formFile" class="form-label"
              >Company Logo (Optional)</label
            >
            <input
              class="form-control"
              type="file"
              id="formFile"
              accept="image/*"
            />

            <small class="form-text text-muted mt-2">
              Optional. Company Logo to be Displayed on the page.
            </small>
          </div> -->

          <div class="form-group">
            <label for="custom_message">Custom Message</label>
            <textarea
              id="custom_message"
              class="form-control"
              placeholder="Please leave us a review and let us know how we did."
              formControlName="custom_message"
            ></textarea>

            <small class="form-text text-muted mt-2">
              Reviewers will see this.
            </small>
          </div>

          <div class="help-block-invalid form-group text-center"></div>

          <div class="row justify-content-center">
            <!-- LATER: maybe add deactivate child, if user goes back or clicks cancel, to prevent accidental deletion -->
            <!-- Cancel Button -->
            <div class="col-8 col-sm-6 col-md-4">
              <a
                [routerLink]="['/dashboard']"
                class="btn btn-lg btn-block btn-white mb-3"
              >
                Cancel
              </a>
            </div>

            <!-- Submit -->
            <div class="col-8 col-sm-6 col-md-4">
              <!-- FIX: don't let user spam create button -->

              <button
                class="btn btn-lg btn-block btn-primary mb-3"
                type="submit"
                [disabled]="!collectionForm.valid"
                (click)="createNewCollection()"
                *ngIf="isEditing === false"
              >
                <!-- Loading Spinner -->
                <!-- LATER: have text for loading spinner -->
                <!-- <span
                  class="spinner-border spinner-border-sm"
                  role="status"
                  aria-hidden="true"
                  mt-2
                ></span> -->
                Create Collection
              </button>

              <button
                class="btn btn-lg btn-block btn-primary mb-3"
                type="submit"
                [disabled]="!collectionForm.valid"
                (click)="editCollection()"
                *ngIf="isEditing === true"
              >
                <!-- Loading Spinner -->
                <!-- LATER: have text for loading spinner -->
                <!-- <span
                class="spinner-border spinner-border-sm"
                role="status"
                aria-hidden="true"
                mt-2
              ></span> -->
                Edit Collection
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
