<app-navbar></app-navbar>

<nav
  class="navbar navbar-vertical fixed-left navbar-expand-md navbar-light"
  id="sidebar"
>
  <app-collection-navbar></app-collection-navbar>
</nav>

<div class="main-content mt-2">
  <div class="container-fluid">
    <div class="row justify-content-center">
      <div class="col-12 col-xl-10">
        <div class="header-body">
          <div class="row align-items-end">
            <div class="col">
              <!-- Title -->
              <h1 class="header-title">All Reviews</h1>
            </div>
            <div class="col-auto">
              <!-- Button -->
              <button class="btn btn-primary lift" (click)="addReview()">
                Add Review
              </button>
            </div>
          </div>
          <!-- / .row -->
        </div>

        <div class="mt-4">
          <div class="card" *ngFor="let review of reviews">
            <div class="card-body">
              <div class="row align-items-center">
                <div class="col ms-n2">
                  <!-- Title -->
                  <p class="mb-1">
                    <b>{{ review.client_review }}</b>
                  </p>
                </div>
                <div class="col-auto">
                  <!-- Dropdown -->
                  <div class="dropdown">
                    <a
                      href="#"
                      class="dropdown-ellipses dropdown-toggle"
                      role="button"
                      data-bs-toggle="dropdown"
                      aria-haspopup="true"
                      aria-expanded="false"
                    >
                      <i class="fe fe-more-vertical"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-end">
                      <button
                        (click)="
                          editReview(
                            review.client_name,
                            review.client_review,
                            review.client_email,
                            review.id
                          )
                        "
                        class="dropdown-item"
                      >
                        Edit
                      </button>
                      <button
                        class="dropdown-item"
                        (click)="deleteReview(review)"
                      >
                        Delete
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row mt-4">
                <div class="col-6">
                  <h5 class="text-muted">Reviewed by:</h5>
                  <small> {{ review.client_name }}</small>
                </div>

                <div class="col-6">
                  <h5 class="text-muted">Submitted:</h5>
                  <small class="text-muted">
                    {{
                      review.created.toMillis() | date : "MMMM dd, yyyy"
                    }}</small
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
